DROP TABLE DOSEN CASCADE CONSTRAINT PURGE;
DROP TABLE JADWAL_MATAKULIAH CASCADE CONSTRAINT PURGE;
DROP TABLE MAHASISWA CASCADE CONSTRAINT PURGE;
DROP TABLE MATAKULIAH_MAHASISWA CASCADE CONSTRAINT PURGE;
DROP TABLE MASTER_JURUSAN CASCADE CONSTRAINT PURGE;

/*==============================================================*/
/* Table: DOSEN */
/*==============================================================*/
CREATE TABLE DOSEN 
(
   KODE_DOSEN VARCHAR(10) NOT NULL,
   NAMA_DOSEN VARCHAR(50) NULL,
   JK_DOSEN VARCHAR(1) NULL CHECK(JK_DOSEN='L' OR JK_DOSEN='P'),
   EMAIL_DOSEN VARCHAR(20) NULL,
   ALAMAT_DOSEN VARCHAR(30) NULL,
   TELP_DOSEN INTEGER NULL,
   STATUS_DOSEN VARCHAR(15) NULL CHECK(STATUS_DOSEN='Single' OR STATUS_DOSEN='Married'),
   CONSTRAINT PK_DOSEN PRIMARY KEY (KODE_DOSEN)
);

/*==============================================================*/
/* Table: JADWAL_MATAKULIAH */
/*==============================================================*/
CREATE TABLE JADWAL_MATAKULIAH 
(
   KODE_MK VARCHAR(10) NOT NULL,
   NAMA_MK VARCHAR(30) NULL,
   SMST_MK INTEGER NULL CHECK(SMST_MK>0 AND SMST_MK<=8),
   SKS_MATKUL INTEGER NULL CHECK(SMST_MK>=2 AND SMST_MK<=4),
   JURUSAN_MK VARCHAR(30) NULL REFERENCES MASTER_JURUSAN(NAMA_MJ),
   KELAS_MK VARCHAR(1) NULL CHECK(KELAS_MK='A' OR KELAS_MK='B' OR KELAS_MK='C'),
   HARI_MK VARCHAR(10) NULL CHECK(HARI_MK='Senin' OR HARI_MK='Selasa' OR HARI_MK='Rabu' OR HARI_MK='Kamis' OR HARI_MK='Jumat'),
   JAM_MK VARCHAR(10) NULL,
   RUANG_MK VARCHAR(10) NULL,
   KODE_PENGAJAR VARCHAR(10) REFERENCES DOSEN(KODE_DOSEN),
   CONSTRAINT PK_JADWAL_MATAKULIAH PRIMARY KEY (KODE_MK)
);

/*==============================================================*/
/* Table: MAHASISWA */
/*==============================================================*/
CREATE TABLE MAHASISWA 
(
   NRP_MHS INTEGER NOT NULL,
   NAMA_MHS VARCHAR(50) NULL,
   JURUSAN_MHS VARCHAR(20) NULL REFERENCES MASTER_JURUSAN(NAMA_MJ),
   KELAS_MHS VARCHAR(1) NULL CHECK(KELAS_MHS='A' OR KELAS_MHS='B' OR KELAS_MHS='C'),
   TGL_LAHIR_MHS DATE NULL,
   JK_MHS VARCHAR(1) NULL CHECK(JK_MHS='L' OR JK_MHS='P'),
   EMAIL_MHS VARCHAR(20) NULL,
   ALAMAT_MHS VARCHAR(30) NULL,
   TELP_MHS INTEGER NULL,
   STATUS_MHS VARCHAR(15) NULL CHECK(STATUS_MHS='Single' OR STATUS_MHS='Married'),
   KODE_DOSEN_WALI VARCHAR(10) NULL REFERENCES DOSEN(KODE_DOSEN),
   CONSTRAINT PK_MAHASISWA PRIMARY KEY (NRP_MHS)
);

/*==============================================================*/
/* Table: MATAKULIAH_MAHASISWA */
/*==============================================================*/
CREATE TABLE MATAKULIAH_MAHASISWA 
(
   NRP_MHS INTEGER NULL REFERENCES MAHASISWA(NRP_MHS),
   NAMA_MATKUL VARCHAR(30) NULL REFERENCES JADWAL_MATAKULIAH(NAMA_MATKUL),
   KODE_MATKUL VARCHAR(10) NOT NULL REFERENCES JADWAL_MATAKULIAH(KODE_MATKUL),
   SMST_MATKUL INTEGER NULL REFERENCES JADWAL_MATAKULIAH(SMST_MK),
   SKS_MATKUL INTEGER NULL REFERENCES JADWAL_MATAKULIAH(SKS_MATKUL),
   SIFAT_MATKUL VARCHAR(20) NULL CHECK(SIFAT_MATKUL='Wajib' OR SIFAT_MATKUL='Pilihan'),
   NILAI_PROJECT INTEGER NULL CHECK(NILAI_UTS>=0 AND NILAI_UTS<=100),
   NILAI_UTS INTEGER NULL CHECK(NILAI_UTS>=0 AND NILAI_UTS<=100),
   NILAI_UAS INTEGER NULL CHECK(NILAI_UAS>=0 AND NILAI_UAS<=100),
   NILAI_AKHIR INTEGER NULL CHECK(NILAI_AKHIR>=0 AND NILAI_AKHIR<=100),
   GRADE VARCHAR(1) NULL CHECK(GRADE='A' OR GRADE='B' OR GRADE='C' OR GRADE='D' OR GRADE='E'),
   STATUS_MATKUL VARCHAR(15) NULL CHECK(STATUS_MATKUL='Lulus' OR STATUS_MATKUL='Tidak Lulus'),
   KE INTEGER NULL CHECK(KE>0 AND KE<=10),
   CONSTRAINT PK_MATAKULIAH_MAHASISWA PRIMARY KEY (KODE_MATKUL)
);

/*==============================================================*/
/* Table: MASTER_JURUSAN */
/*==============================================================*/
CREATE TABLE MASTER_JURUSAN 
(
   KODE_MJ INTEGER NOT NULL CHECK(KODE_MJ=116 OR KODE_MJ=180 OR KODE_MJ=170 OR KODE_MJ=140 OR KODE_MJ=102 OR KODE_MJ=120),
   NAMA_MJ VARCHAR(30) NULL CHECK(NAMA_MJ='Teknik Informatika' OR NAMA_MJ='Sistem Informasi Bisnis' OR 
      NAMA_MJ='Desain Komunikasi Visual' OR NAMA_MJ='Desain Produk' OR 
      NAMA_MJ='Teknik Elektro' OR NAMA_MJ='Teknik Industri'),
   CONSTRAINT PK_MASTER_JURUSAN PRIMARY KEY (KODE_MJ)
);

INSERT INTO DOSEN VALUES('TM001','Tamariska Marcelline','P','tamariskacelline@gmail.com','jalan Ahmad No. 12',081384552458,'Single');
INSERT INTO DOSEN VALUES('AG001','Agatha','P','agatha@gmail.com','jalan Kendari blok AA No. 57',085911274387,'Married');
INSERT INTO DOSEN VALUES('TM002','Tony Mario','L','tonym@gmail.com','jalan Kupang Jaya gang XV No. 66',085143358003,'Married');
INSERT INTO DOSEN VALUES('DT001','Devina Tammy','P','devi@gmail.com','jalan Bukittinggi No. 129',085427380075,'Single');
INSERT INTO DOSEN VALUES('GG001','Goofy Gunardi Setiawan','L','goofygs@rocketmail.com','jalan Kertajaya blok I No. 04',082416987873,'Single');
INSERT INTO DOSEN VALUES('KS001','Kushno Santoso','L','kushno@gmail.com','jalan Villa Regensi blok III No. 16',081680590957,'Married');
INSERT INTO DOSEN VALUES('SR001','Indah Rejeki','P','indahrejeki@yahoo.com','jalan Villa Bukit Merah blok AC No. 110',083255125830,'Single');
INSERT INTO DOSEN VALUES('MK001','Metta Karimun','P','metta@yahoo.com','jalan Anggur Merah No. 41',083255125830,'Married');

INSERT INTO JADWAL_MATAKULIAH VALUES('INF001','Bahasa Indonesia',1,3,'Teknik Informatika','B','Selasa','15.30','U-401','TM001');
INSERT INTO JADWAL_MATAKULIAH VALUES('DKV001','Kaligrafi',2,3,'Desain Komunikasi Visual','A','Senin','08.00','E-305','DT001');
INSERT INTO JADWAL_MATAKULIAH VALUES('INF002','Pemrograman Client Server',4,3,'Teknik Informatika','A','Jumat','10.30','L-204','TM002');
INSERT INTO JADWAL_MATAKULIAH VALUES('SIB001','Pemrograman Client Server',4,3,'Sistem Informasi Bisnis','C','Jumat','10.30','L-304','TM001');
INSERT INTO JADWAL_MATAKULIAH VALUES('SIB002','Akuntansi',4,2,'Sistem Informasi Bisnis','A','Jumat','10.30','U-303','TM001');
INSERT INTO JADWAL_MATAKULIAH VALUES('SIB002','Akuntansi',4,2,'Sistem Informasi Bisnis','B','Jumat','10.30','U-102','GG001');
INSERT INTO JADWAL_MATAKULIAH VALUES('ELK001','Sistem Digital',1,3,'Teknik Elektro','A','Kamis','10.30','L-102','KS001');
INSERT INTO JADWAL_MATAKULIAH VALUES('IND001','Kalkulus 3',6,3,'Teknik Industri','B','Kamis','10.30','B-304','SR001');
INSERT INTO JADWAL_MATAKULIAH VALUES('DES001','Teknik Desain',2,2,'Desain Produk','A','Rabu','13.00','E-301','MK001');
INSERT INTO JADWAL_MATAKULIAH VALUES('INF003','Software Design Pattern',7,3,'Teknik Informatika','A','Rabu','13.00','U-401','TM002');
INSERT INTO JADWAL_MATAKULIAH VALUES('INF003','Software Design Pattern',7,3,'Teknik Informatika','B','Rabu','13.00','U-401','TM002');

INSERT INTO MAHASISWA VALUES(216116536,'Edwin Lo','Teknik Informatika','B',TO_DATE('24-06-1998', 'DD-MM-YYYY'),'L','edwin@gmail.com','SDPS Gang 15 No. 150',082337123047,'Single','TM002');
INSERT INTO MAHASISWA VALUES(215116467,'Matalangit Zerafim','Teknik Informatika','A',TO_DATE('05-09-1997', 'DD-MM-YYYY'),'L','matalangit@yahoo.com','jalan Kertajaya No. 225',083521375645,'Single','TM001');
INSERT INTO MAHASISWA VALUES(218102598,'Ricardo','Teknik Elektro','C',TO_DATE('01-11-2000', 'DD-MM-YYYY'),'L','ricardo@yahoo.com','jalan Bukit Indah No. 02',083521375645,'Single','KS001');
INSERT INTO MAHASISWA VALUES(218120679,'Fransisca Maria','Teknik Industri','A',TO_DATE('06-06-2000', 'DD-MM-YYYY'),'P','maria@gmail.com','jalan Melati Putih No. 13',031177006868,'Single','SR001');
INSERT INTO MAHASISWA VALUES(216140060,'Sunny Kusuma','Desain Produk','A',TO_DATE('27-08-1998', 'DD-MM-YYYY'),'P','sunny@gmail.com','jalan Pelangi No. 149',085948133712,'Single','MK001');
INSERT INTO MAHASISWA VALUES(217170381,'Hansen Oetomo','Desain Komunikasi Visual','B',TO_DATE('12-10-1999', 'DD-MM-YYYY'),'L','hansen@gmail.com','jalan Surakarta No. 09',081029124149,'Single','DT001');
INSERT INTO MAHASISWA VALUES(216180373,'Philip Cahya','Sistem Informasi Bisnis','C',TO_DATE('28-02-1998', 'DD-MM-YYYY'),'L','philip@gmail.com','jalan Sekarjaya Blok C No. 34',085600402155,'Single','GG001');

INSERT INTO MATAKULIAH_MAHASISWA VALUES(216116536,'Bahasa Indonesia','INF001',1,3,'Wajib',70,70,58,66,'C','Lulus',1);
INSERT INTO MATAKULIAH_MAHASISWA VALUES(215116467,'Bahasa Indonesia','INF001',1,3,'Wajib',100,70,58,76,'B','Lulus',1);
INSERT INTO MATAKULIAH_MAHASISWA VALUES(216116536,'Pemrograman Client Server','INF002',4,3,'Wajib',92,70,78,80,'A','Lulus',1);
INSERT INTO MATAKULIAH_MAHASISWA VALUES(215116467,'Pemrograman Client Server','INF002',4,3,'Wajib',92,76,90,86,'A','Lulus',1);
INSERT INTO MATAKULIAH_MAHASISWA VALUES(216116536,'Software Design Pattern','INF003',7,3,'Pilihan',80,75,91,82,'A','Lulus',1);
INSERT INTO MATAKULIAH_MAHASISWA VALUES(215116467,'Software Design Pattern','INF003',7,3,'Pilihan',100,60,90,83,'A','Lulus',1);
INSERT INTO MATAKULIAH_MAHASISWA VALUES(217170381,'Kaligrafi','DKV001',2,3,'Wajib',40,55,61,52,'D','Lulus',2);
INSERT INTO MATAKULIAH_MAHASISWA VALUES(216180373,'Pemrograman Client Server','SIB001',4,3,'Wajib',40,39,56,45,'E','Tidak Lulus',1);
INSERT INTO MATAKULIAH_MAHASISWA VALUES(216180373,'Akuntansi','SIB002',4,2,'Wajib',78,40,50,56,'C','Lulus',3);

INSERT INTO MASTER_JURUSAN VALUES(116,'Teknik Informatika');
INSERT INTO MASTER_JURUSAN VALUES(180,'Sistem Informasi Bisnis');
INSERT INTO MASTER_JURUSAN VALUES(170,'Desain Komunikasi Visual');
INSERT INTO MASTER_JURUSAN VALUES(140,'Desain Produk');
INSERT INTO MASTER_JURUSAN VALUES(102,'Teknik Elektro');
INSERT INTO MASTER_JURUSAN VALUES(120,'Teknik Industri');